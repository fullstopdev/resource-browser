apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    config.k8s.io/owning-inventory: dd24290682a6740bebd6585febc188fc0a438f0e-1755345859179138958
    controller-gen.kubebuilder.io/version: v0.18.0
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"config.k8s.io/owning-inventory":"dd24290682a6740bebd6585febc188fc0a438f0e-1755345859179138958","controller-gen.kubebuilder.io/version":"v0.18.0"},"name":"deviationactions.core.eda.nokia.com"},"spec":{"group":"core.eda.nokia.com","names":{"kind":"DeviationAction","listKind":"DeviationActionList","plural":"deviationactions","singular":"deviationaction"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".status.result","name":"Result","type":"string"},{"jsonPath":".metadata.creationTimestamp","name":"Age","type":"date"}],"name":"v1","schema":{"openAPIV3Schema":{"description":"DeviationAction is the Schema for the deviationactions API","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"DeviationAction allows manual and API-driven actions to be performed on Deviation resources.\nThey are the only means to which and end user can accept or reject deviations, as Deviation resources themselves are read only.","properties":{"actions":{"description":"The set of actions to perform on the target.","items":{"properties":{"action":{"description":"Action to perform on matching Deviations.","enum":["setAccept","clearAccept","reject"],"type":"string"},"path":{"description":"Path to match Deviation resources on this target. Only one action is allowed per path.","type":"string"},"recurse":{"description":"Recursively accept/reject Deviations from the specified path.","type":"boolean"}},"required":["action","path"],"type":"object"},"type":"array"},"nodeEndpoint":{"description":"The target on which this action is to be performed.","type":"string"}},"required":["actions","nodeEndpoint"],"type":"object"},"status":{"description":"DeviationActionStatus defines the observed state of DeviationAction","properties":{"result":{"description":"The result of the set of actions.","enum":["OK","Failed"],"type":"string"},"transactionId":{"description":"The transaction id these actions were part of.","type":"integer"}},"type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
  creationTimestamp: "2025-08-16T12:04:20Z"
  generation: 1
  name: deviationactions.core.eda.nokia.com
  resourceVersion: "1966"
  uid: cc413f3f-276b-4c59-bd86-752a327bf659
spec:
  conversion:
    strategy: None
  group: core.eda.nokia.com
  names:
    kind: DeviationAction
    listKind: DeviationActionList
    plural: deviationactions
    singular: deviationaction
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.result
      name: Result
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: DeviationAction is the Schema for the deviationactions API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              DeviationAction allows manual and API-driven actions to be performed on Deviation resources.
              They are the only means to which and end user can accept or reject deviations, as Deviation resources themselves are read only.
            properties:
              actions:
                description: The set of actions to perform on the target.
                items:
                  properties:
                    action:
                      description: Action to perform on matching Deviations.
                      enum:
                      - setAccept
                      - clearAccept
                      - reject
                      type: string
                    path:
                      description: Path to match Deviation resources on this target.
                        Only one action is allowed per path.
                      type: string
                    recurse:
                      description: Recursively accept/reject Deviations from the specified
                        path.
                      type: boolean
                  required:
                  - action
                  - path
                  type: object
                type: array
              nodeEndpoint:
                description: The target on which this action is to be performed.
                type: string
            required:
            - actions
            - nodeEndpoint
            type: object
          status:
            description: DeviationActionStatus defines the observed state of DeviationAction
            properties:
              result:
                description: The result of the set of actions.
                enum:
                - OK
                - Failed
                type: string
              transactionId:
                description: The transaction id these actions were part of.
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: DeviationAction
    listKind: DeviationActionList
    plural: deviationactions
    singular: deviationaction
  conditions:
  - lastTransitionTime: "2025-08-16T12:04:20Z"
    message: no conflicts found
    reason: NoConflicts
    status: "True"
    type: NamesAccepted
  - lastTransitionTime: "2025-08-16T12:04:20Z"
    message: the initial names have been accepted
    reason: InitialNamesAccepted
    status: "True"
    type: Established
  storedVersions:
  - v1
