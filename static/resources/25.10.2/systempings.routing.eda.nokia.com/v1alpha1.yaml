additionalPrinterColumns:
  - jsonPath: .spec.address
    name: Address
    type: string
  - jsonPath: .spec.networkInstance
    name: Network Instance
    type: string
  - jsonPath: .status.result
    name: Result
    type: string
  - jsonPath: .metadata.creationTimestamp
    name: Age
    type: date
name: v1alpha1
schema:
  openAPIV3Schema:
    description: SystemPing is the Schema for the systempings API
    properties:
      apiVersion:
        description: |-
          APIVersion defines the versioned schema of this representation of an object.
          Servers should convert recognized schemas to the latest internal value, and
          may reject unrecognized values.
          More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
        type: string
      kind:
        description: |-
          Kind is a string value representing the REST resource this object represents.
          Servers may infer this from the endpoint the client submits requests to.
          Cannot be updated.
          In CamelCase.
          More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
        type: string
      metadata:
        type: object
      spec:
        description: SystemPing allows performing ping between systems to their system interfaces.
        properties:
          addressFamily:
            allOf:
              - enum:
                  - Ipv4
                  - Ipv6
                  - DualStack
              - enum:
                  - Ipv4
                  - Ipv6
                  - DualStack
            default: DualStack
            description: |-
              AddressFamily is the address family to use for the ping.
              It can be one of the following values:
              - "Ipv4": Use Ipv4 addresses for the ping.
              - "Ipv6": Use Ipv6 addresses for the ping.
              - "DualStack": Use both Ipv4 and Ipv6 addresses for the ping.
            type: string
          count:
            default: 1
            description: Count is the number of pings to send.
            type: integer
          nodeSelectors:
            description: |-
              List of node selectors to select nodes whose system interfaces will be pinged.
              This matches labels on TopoNode resources.
              If no nodes  and no node selectors and no systemInterfaces as well no systemInterface selectors are specified,
              then all nodes in the given namespace will be selected.
              This is a list of label expressions, e.g. ["eda.nokia.com/role=leaf"].
            items:
              type: string
            type: array
          nodes:
            description: |-
              List of nodes whose system interfaces will be pinged.
              This matches names of TopoNode resources.
            items:
              type: string
            type: array
          systemInterfaceSelectors:
            description: |-
              SystemInterface Selectors is a list of selectors to execute System pings for.
              This is a list of label expressions, e.g. ["eda.nokia.com/role=leaf", "eda.nokia.com/region=us-west"].
            items:
              type: string
            type: array
          systemInterfaces:
            description: SystemInterfaces is a list of named SystemInterface resources to execute System pings for.
            items:
              type: string
            type: array
          timeoutSeconds:
            default: 5
            description: TimeoutSeconds is the timeout for the ping in seconds.
            type: integer
        type: object
        x-kubernetes-validations:
          - message: You must provide at least one non-empty value in either nodes/nodeSelectors OR systemInterfaces/systemInterfaceSelectors, but not both sets. For example, you can provide nodes, or nodeSelectors, or both Nodes and nodeSelectors. But if you provide any of Nodes/nodeSelectors, you cannot provide any of systemInterfaces/systemInterfaceSelectors, and vice-versa.
            rule: '!( ( (has(self.nodes) && self.nodes.size() > 0) || (has(self.nodeSelectors) && self.nodeSelectors.size() > 0) ) && ( (has(self.systemInterfaces) && self.systemInterfaces.size() > 0) || (has(self.systemInterfaceSelectors) && self.systemInterfaceSelectors.size() > 0)))'
      status:
        description: The result of the System ping
        properties:
          details:
            description: |-
              Details contains the results of the pings performed for each SystemInterface.
              Each entry in the list corresponds to a SystemInterface that was pinged.
            items:
              properties:
                details:
                  description: Details of the ping result, if available.
                  properties:
                    averageTimeNanoseconds:
                      description: Average time taken for a ping reply.
                      format: int64
                      type: integer
                    maxTimeNanoseconds:
                      description: Maximum time taken for a ping reply.
                      format: int64
                      type: integer
                    minTimeNanoseconds:
                      description: Minimum time taken for a ping reply.
                      format: int64
                      type: integer
                    received:
                      description: Number of pings received.
                      type: integer
                    sent:
                      description: Number of pings sent.
                      type: integer
                    stdDevNanoseconds:
                      description: Standard deviation of time taken for all pings.
                      format: int64
                      type: integer
                    totalTimeNanoseconds:
                      description: Total time taken for all pings.
                      format: int64
                      type: integer
                  required:
                    - received
                    - sent
                  type: object
                error:
                  description: Error message, if the ping failed.
                  type: string
                name:
                  description: Name of the ping result.
                  type: string
                success:
                  description: Indicates if the ping was successful.
                  type: boolean
              required:
                - success
              type: object
            type: array
          result:
            description: |-
              Result is the overall result of the ping operation.
              It can be one of the following values:
              - "Success": All pings were successful.
              - "Failed": No pings were successful.
              - "PartialSuccess": Some pings were successful, but not all.
            enum:
              - Success
              - Failed
              - PartialSuccess
            type: string
        type: object
    type: object
served: true
storage: true
subresources:
  status: {}
