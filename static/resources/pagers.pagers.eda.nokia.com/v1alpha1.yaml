name: v1alpha1
schema:
  openAPIV3Schema:
    description: Pager is the Schema for the pagers API
    properties:
      apiVersion:
        description: |-
          APIVersion defines the versioned schema of this representation of an object.
          Servers should convert recognized schemas to the latest internal value, and
          may reject unrecognized values.
          More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
        type: string
      kind:
        description: |-
          Kind is a string value representing the REST resource this object represents.
          Servers may infer this from the endpoint the client submits requests to.
          Cannot be updated.
          In CamelCase.
          More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
        type: string
      metadata:
        type: object
      spec:
        description: PagerSpec defines the desired state of Pager
        properties:
          description:
            description: The pager description
            type: string
          routingKeySecret:
            description: |-
              A reference to the Secret holding the Pager Duty routing key to use when raising events from this pager.
              The routing key must be base64 encoded and set under data.key.
              The secret reference follows the format `$namespace/$secretName`, if the namespace is omitted, the pager namespace is used.
            type: string
          sources:
            description: Set the Pager sources
            properties:
              alarms:
                description: Include alarm sources in this pager
                properties:
                  autoResolve:
                    description: If true this app will automatically change the event status from triggered to resolved when the alarm is cleared.
                    type: boolean
                  exclude:
                    description: |-
                      A list of alarms that this Pager will ignore, matching the 'type' field within alarms.
                      If a source matches both the 'includes' and 'excludes' lists, it will be excluded.
                      For example, 'InterfaceMemberDown'.
                    items:
                      type: string
                    type: array
                  include:
                    description: |-
                      A list of alarms that this Pager will listen to, matching the 'type' field within alarms.
                      For example, 'InterfaceDown'.
                    items:
                      type: string
                    type: array
                type: object
              query:
                description: Include a query source in this pager
                properties:
                  autoResolve:
                    description: If true this app will automatically change the event status from triggered to resolved when the object is deleted.
                    type: boolean
                  class:
                    description: |-
                      A template to use as class when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                    type: string
                  component:
                    description: |-
                      A template to use as component when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                    type: string
                  fields:
                    description: |-
                      Fields to include in the subscribe results, which can then be used in the template,
                      e.g. '.node.name' or '.node.srl.interface.name"'.
                    items:
                      type: string
                    type: array
                  group:
                    description: |-
                      A template to use as group when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                    type: string
                  includeDetails:
                    description: If true the query response is included in the generated event 'custom_details' field
                    type: boolean
                  severity:
                    description: |-
                      A template to use as severity when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                      Must be one of critical , error , warning  or info.
                    type: string
                  source:
                    description: |-
                      A template to use as source when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                    type: string
                  summary:
                    description: |-
                      A template to use as summary when sending the event to Pager Duty.
                      The template can use the fields from the subscription results.
                      e.g. 'Interface {{.node.srl.interface.name}} is down on node {{.node.name}}'.
                    type: string
                  table:
                    description: EDB table to subscribe to. e.g. '.namespace.node.srl.interface'
                    type: string
                  where:
                    description: 'A where clause to use for the subscribe request, e.g: ''oper-state = down''. You can omit enclosing parentheses.'
                    type: string
                type: object
            type: object
        required:
          - sources
        type: object
      status:
        description: PagerStatus defines the observed state of Pager
        type: object
    type: object
served: true
storage: true
subresources:
  status: {}
